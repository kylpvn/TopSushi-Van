(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function a(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=a(o);fetch(o.href,r)}})();var oe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ne(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ae={exports:{}};(function(e,t){(function(a,n){e.exports=n()})(oe,function(){return function(a){function n(r){if(o[r])return o[r].exports;var i=o[r]={exports:{},id:r,loaded:!1};return a[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var o={};return n.m=a,n.c=o,n.p="dist/",n(0)}([function(a,n,o){function r(u){return u&&u.__esModule?u:{default:u}}var i=Object.assign||function(u){for(var S=1;S<arguments.length;S++){var _=arguments[S];for(var H in _)Object.prototype.hasOwnProperty.call(_,H)&&(u[H]=_[H])}return u},f=o(1),y=(r(f),o(6)),l=r(y),p=o(7),d=r(p),b=o(8),m=r(b),w=o(9),L=r(w),O=o(10),W=r(O),G=o(11),K=r(G),Z=o(14),Y=r(Z),M=[],U=!1,k={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},D=function(){var u=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(u&&(U=!0),U)return M=(0,K.default)(M,k),(0,W.default)(M,k.once),M},z=function(){M=(0,Y.default)(),D()},c=function(){M.forEach(function(u,S){u.node.removeAttribute("data-aos"),u.node.removeAttribute("data-aos-easing"),u.node.removeAttribute("data-aos-duration"),u.node.removeAttribute("data-aos-delay")})},s=function(u){return u===!0||u==="mobile"&&L.default.mobile()||u==="phone"&&L.default.phone()||u==="tablet"&&L.default.tablet()||typeof u=="function"&&u()===!0},v=function(u){k=i(k,u),M=(0,Y.default)();var S=document.all&&!window.atob;return s(k.disable)||S?c():(k.disableMutationObserver||m.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),k.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",k.easing),document.querySelector("body").setAttribute("data-aos-duration",k.duration),document.querySelector("body").setAttribute("data-aos-delay",k.delay),k.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?D(!0):k.startEvent==="load"?window.addEventListener(k.startEvent,function(){D(!0)}):document.addEventListener(k.startEvent,function(){D(!0)}),window.addEventListener("resize",(0,d.default)(D,k.debounceDelay,!0)),window.addEventListener("orientationchange",(0,d.default)(D,k.debounceDelay,!0)),window.addEventListener("scroll",(0,l.default)(function(){(0,W.default)(M,k.once)},k.throttleDelay)),k.disableMutationObserver||m.default.ready("[data-aos]",z),M)};a.exports={init:v,refresh:D,refreshHard:z}},function(a,n){},,,,,function(a,n){(function(o){function r(s,v,u){function S(h){var j=T,I=N;return T=N=void 0,R=h,$=s.apply(I,j)}function _(h){return R=h,E=setTimeout(F,v),B?S(h):$}function H(h){var j=h-A,I=h-R,ee=v-j;return C?z(ee,P-I):ee}function X(h){var j=h-A,I=h-R;return A===void 0||j>=v||j<0||C&&I>=P}function F(){var h=c();return X(h)?Q(h):void(E=setTimeout(F,H(h)))}function Q(h){return E=void 0,x&&T?S(h):(T=N=void 0,$)}function V(){E!==void 0&&clearTimeout(E),R=0,T=A=N=E=void 0}function J(){return E===void 0?$:Q(c())}function q(){var h=c(),j=X(h);if(T=arguments,N=this,A=h,j){if(E===void 0)return _(A);if(C)return E=setTimeout(F,v),S(A)}return E===void 0&&(E=setTimeout(F,v)),$}var T,N,P,$,E,A,R=0,B=!1,C=!1,x=!0;if(typeof s!="function")throw new TypeError(b);return v=p(v)||0,f(u)&&(B=!!u.leading,C="maxWait"in u,P=C?D(p(u.maxWait)||0,v):P,x="trailing"in u?!!u.trailing:x),q.cancel=V,q.flush=J,q}function i(s,v,u){var S=!0,_=!0;if(typeof s!="function")throw new TypeError(b);return f(u)&&(S="leading"in u?!!u.leading:S,_="trailing"in u?!!u.trailing:_),r(s,v,{leading:S,maxWait:v,trailing:_})}function f(s){var v=typeof s>"u"?"undefined":d(s);return!!s&&(v=="object"||v=="function")}function y(s){return!!s&&(typeof s>"u"?"undefined":d(s))=="object"}function l(s){return(typeof s>"u"?"undefined":d(s))=="symbol"||y(s)&&k.call(s)==w}function p(s){if(typeof s=="number")return s;if(l(s))return m;if(f(s)){var v=typeof s.valueOf=="function"?s.valueOf():s;s=f(v)?v+"":v}if(typeof s!="string")return s===0?s:+s;s=s.replace(L,"");var u=W.test(s);return u||G.test(s)?K(s.slice(2),u?2:8):O.test(s)?m:+s}var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},b="Expected a function",m=NaN,w="[object Symbol]",L=/^\s+|\s+$/g,O=/^[-+]0x[0-9a-f]+$/i,W=/^0b[01]+$/i,G=/^0o[0-7]+$/i,K=parseInt,Z=(typeof o>"u"?"undefined":d(o))=="object"&&o&&o.Object===Object&&o,Y=(typeof self>"u"?"undefined":d(self))=="object"&&self&&self.Object===Object&&self,M=Z||Y||Function("return this")(),U=Object.prototype,k=U.toString,D=Math.max,z=Math.min,c=function(){return M.Date.now()};a.exports=i}).call(n,function(){return this}())},function(a,n){(function(o){function r(c,s,v){function u(x){var h=q,j=T;return q=T=void 0,A=x,P=c.apply(j,h)}function S(x){return A=x,$=setTimeout(X,s),R?u(x):P}function _(x){var h=x-E,j=x-A,I=s-h;return B?D(I,N-j):I}function H(x){var h=x-E,j=x-A;return E===void 0||h>=s||h<0||B&&j>=N}function X(){var x=z();return H(x)?F(x):void($=setTimeout(X,_(x)))}function F(x){return $=void 0,C&&q?u(x):(q=T=void 0,P)}function Q(){$!==void 0&&clearTimeout($),A=0,q=E=T=$=void 0}function V(){return $===void 0?P:F(z())}function J(){var x=z(),h=H(x);if(q=arguments,T=this,E=x,h){if($===void 0)return S(E);if(B)return $=setTimeout(X,s),u(E)}return $===void 0&&($=setTimeout(X,s)),P}var q,T,N,P,$,E,A=0,R=!1,B=!1,C=!0;if(typeof c!="function")throw new TypeError(d);return s=l(s)||0,i(v)&&(R=!!v.leading,B="maxWait"in v,N=B?k(l(v.maxWait)||0,s):N,C="trailing"in v?!!v.trailing:C),J.cancel=Q,J.flush=V,J}function i(c){var s=typeof c>"u"?"undefined":p(c);return!!c&&(s=="object"||s=="function")}function f(c){return!!c&&(typeof c>"u"?"undefined":p(c))=="object"}function y(c){return(typeof c>"u"?"undefined":p(c))=="symbol"||f(c)&&U.call(c)==m}function l(c){if(typeof c=="number")return c;if(y(c))return b;if(i(c)){var s=typeof c.valueOf=="function"?c.valueOf():c;c=i(s)?s+"":s}if(typeof c!="string")return c===0?c:+c;c=c.replace(w,"");var v=O.test(c);return v||W.test(c)?G(c.slice(2),v?2:8):L.test(c)?b:+c}var p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},d="Expected a function",b=NaN,m="[object Symbol]",w=/^\s+|\s+$/g,L=/^[-+]0x[0-9a-f]+$/i,O=/^0b[01]+$/i,W=/^0o[0-7]+$/i,G=parseInt,K=(typeof o>"u"?"undefined":p(o))=="object"&&o&&o.Object===Object&&o,Z=(typeof self>"u"?"undefined":p(self))=="object"&&self&&self.Object===Object&&self,Y=K||Z||Function("return this")(),M=Object.prototype,U=M.toString,k=Math.max,D=Math.min,z=function(){return Y.Date.now()};a.exports=r}).call(n,function(){return this}())},function(a,n){function o(p){var d=void 0,b=void 0;for(d=0;d<p.length;d+=1)if(b=p[d],b.dataset&&b.dataset.aos||b.children&&o(b.children))return!0;return!1}function r(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function i(){return!!r()}function f(p,d){var b=window.document,m=r(),w=new m(y);l=d,w.observe(b.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function y(p){p&&p.forEach(function(d){var b=Array.prototype.slice.call(d.addedNodes),m=Array.prototype.slice.call(d.removedNodes),w=b.concat(m);if(o(w))return l()})}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){};n.default={isSupported:i,ready:f}},function(a,n){function o(b,m){if(!(b instanceof m))throw new TypeError("Cannot call a class as a function")}function r(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function b(m,w){for(var L=0;L<w.length;L++){var O=w[L];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(m,O.key,O)}}return function(m,w,L){return w&&b(m.prototype,w),L&&b(m,L),m}}(),f=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,y=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,l=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,p=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,d=function(){function b(){o(this,b)}return i(b,[{key:"phone",value:function(){var m=r();return!(!f.test(m)&&!y.test(m.substr(0,4)))}},{key:"mobile",value:function(){var m=r();return!(!l.test(m)&&!p.test(m.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),b}();n.default=new d},function(a,n){Object.defineProperty(n,"__esModule",{value:!0});var o=function(i,f,y){var l=i.node.getAttribute("data-aos-once");f>i.position?i.node.classList.add("aos-animate"):typeof l<"u"&&(l==="false"||!y&&l!=="true")&&i.node.classList.remove("aos-animate")},r=function(i,f){var y=window.pageYOffset,l=window.innerHeight;i.forEach(function(p,d){o(p,l+y,f)})};n.default=r},function(a,n,o){function r(l){return l&&l.__esModule?l:{default:l}}Object.defineProperty(n,"__esModule",{value:!0});var i=o(12),f=r(i),y=function(l,p){return l.forEach(function(d,b){d.node.classList.add("aos-init"),d.position=(0,f.default)(d.node,p.offset)}),l};n.default=y},function(a,n,o){function r(l){return l&&l.__esModule?l:{default:l}}Object.defineProperty(n,"__esModule",{value:!0});var i=o(13),f=r(i),y=function(l,p){var d=0,b=0,m=window.innerHeight,w={offset:l.getAttribute("data-aos-offset"),anchor:l.getAttribute("data-aos-anchor"),anchorPlacement:l.getAttribute("data-aos-anchor-placement")};switch(w.offset&&!isNaN(w.offset)&&(b=parseInt(w.offset)),w.anchor&&document.querySelectorAll(w.anchor)&&(l=document.querySelectorAll(w.anchor)[0]),d=(0,f.default)(l).top,w.anchorPlacement){case"top-bottom":break;case"center-bottom":d+=l.offsetHeight/2;break;case"bottom-bottom":d+=l.offsetHeight;break;case"top-center":d+=m/2;break;case"bottom-center":d+=m/2+l.offsetHeight;break;case"center-center":d+=m/2+l.offsetHeight/2;break;case"top-top":d+=m;break;case"bottom-top":d+=l.offsetHeight+m;break;case"center-top":d+=l.offsetHeight/2+m}return w.anchorPlacement||w.offset||isNaN(p)||(b=p),d+b};n.default=y},function(a,n){Object.defineProperty(n,"__esModule",{value:!0});var o=function(r){for(var i=0,f=0;r&&!isNaN(r.offsetLeft)&&!isNaN(r.offsetTop);)i+=r.offsetLeft-(r.tagName!="BODY"?r.scrollLeft:0),f+=r.offsetTop-(r.tagName!="BODY"?r.scrollTop:0),r=r.offsetParent;return{top:f,left:i}};n.default=o},function(a,n){Object.defineProperty(n,"__esModule",{value:!0});var o=function(r){return r=r||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(r,function(i){return{node:i}})};n.default=o}])})})(ae);var re=ae.exports;const ie=ne(re);ie.init({duration:1e3,offset:100});const g=e=>document.querySelector(e),te=e=>document.querySelectorAll(e),se=e=>e instanceof Element;(function(){window.app||(window.app={}),app.carousel={updateClass:function(e,t=""){if(e)return e.className=t,e},reorder:function(){let e=0;te("#carousel > .album").forEach(t=>{t.dataset.pos=e,e++})},updatePositions:function(){let e=g(".selected"),t,a,n=0;for(;t=e.nextElementSibling;)t.className=n<3?`album next-${n}`:"album hideRight",e=t,n++;for(e=g(".selected"),n=0;a=e.previousElementSibling;)a.className=n<3?`album prev-${n}`:"album hideLeft",e=a,n++},move:function(e){let t,a=e;typeof e=="string"&&(a=e==="next"?g(".selected").nextElementSibling:g(".selected").previousElementSibling),app.carousel.state.sleeve&&app.carousel.closeSleeve();let n=parseInt(app.selected.dataset.pos),o=parseInt(a.dataset.pos),r=n-o,i=r<0?-1:1,f=Math.abs(r);for(t=0;t<f;t++){let p=i==-1?g("#carousel").firstElementChild:g("#carousel").lastElementChild;i==-1?(p.dataset.pos=g("#carousel").children.length,g("#carousel").append(p)):(p.dataset.pos=0,g("#carousel").prepend(p)),app.carousel.reorder()}app.selected=a,a.className="album selected";let y=[],l=[];for(y[0]=a.nextElementSibling,l[0]=a.previousElementSibling,app.carousel.updateClass(y[0],"album next-0"),app.carousel.updateClass(l[0],"album prev-0"),t=1;t<3;t++)y[t]=y[t-1]?y[t-1].nextElementSibling:a.parentElement.firstElementChild,l[t]=l[t-1]?l[t-1].previousElementSibling:a.parentElement.lastElementChild,app.carousel.updateClass(l[t],`album prev-${t}`),app.carousel.updateClass(y[t],`album next-${t}`);app.carousel.nextAll(y[2]).forEach(p=>{p.className="album",p.classList.add("hideRight")}),app.carousel.prevAll(l[2]).forEach(p=>{p.className="album",p.classList.add("hideLeft")})},nextAll:function(e){let t=[];if(e)for(;e=e.nextElementSibling;)t.push(e);return t},prevAll:function(e){let t=[];if(e)for(;e=e.previousElementSibling;)t.push(e);return t},keypress:function(e){switch(e.which){case 37:app.carousel.move("prev");break;case 39:app.carousel.move("next");break;case 27:case 13:return app.carousel.toggleSleeve(),!1;default:return}return e.stopPropagation(),e.preventDefault(),!1},select:function(e){let t=e;for(se(t)||(t=e.target);!t.parentElement.classList.contains("carousel");)t=t.parentElement;app.carousel.move(t)},previous:function(e){app.carousel.move("prev")},next:function(e){app.carousel.move("next")},doDown:function(e){app.carousel.state.downX=e.x,app.carousel.state.dragging=1},doUp:function(e){let t=0,a=e.target;if(e.target.classList.contains("tab")||a.classList.contains("card-similar")||a.offsetParent.classList.contains("card-similar")||a.classList.contains("card-albums")||a.offsetParent.classList.contains("card-albums"))return!0;if(app.carousel.state.downX){if(t=app.carousel.state.downX>e.x?-1:1,app.carousel.state.downX-e.x,a.classList.contains("carousel"))return!0;for(;!a.parentElement.classList.contains("carousel");)a=a.parentElement;if(a.classList.contains("selected"))return app.carousel.toggleSleeve(),!1;if(Math.abs(app.carousel.state.downX-e.x)<10)return app.carousel.select(e),!1;t===-1?app.carousel.move("next"):app.carousel.move("prev"),app.carousel.state.downX=0}app.carousel.state.dragging=0},doMove:function(e){app.carousel.state.downX-e.x},closeSleeve:function(){let e=g(".selected"),t=e.querySelector(".sleeve");app.carousel.state.sleeve=0,e.classList.remove("open"),t.style.marginLeft="0vw"},toggleSleeve:function(){let e=g(".selected");e.querySelector(".sleeve"),app.carousel.state.sleeve^=1,e.classList.toggle("open"),e.querySelector(".sleeve").style.marginLeft=app.carousel.state.sleeve?"20vw":"0vw",app.carousel.albumInfo(e.querySelector(".artist").innerText,e.querySelector(".albumName").innerText)},albumUpdate:function(e,t,a){const n=g(`#album-${a}`);n&&app.carousel.albumGet(e,t).then(o=>{app.carousel.data.albums[t+e].lastfm=o;let r=n.querySelector("img"),i=o.album.image[o.album.image.length-1]["#text"];i||(i="img/unknown.png",r.style.background="#999"),r&&(r.src=i)})},albumGet:function(e,t){if(app.carousel.data.albums[e+t]&&app.carousel.data.albums[e+t].lastfm)Promise.resolve(app.carousel.data.albums[e+t].lastfm);else return fetch(`https://ws.audioscrobbler.com/2.0/?method=album.getinfo&api_key=8ab04dc41aad7d43deffb0e2ba49b690&artist=${e}&album=${t}&format=json`).then(a=>a.json())},albumCards:function(e,t,a){var n,o,r;if(e&&t&&a){let i="<div class='card-liner'><ol class='tracks'>";if((r=(o=(n=e.album)==null?void 0:n.tracks)==null?void 0:o.track)!=null&&r.length&&e.album.tracks.track.forEach((f,y)=>{i+=`<li>${f.name} <span class='track-length'>[${app.carousel.formatTime(f.duration)}]</span></li>`}),i+="</ol></div>",i+="<div class='card-info'>",e.album.wiki&&e.album.wiki.content){let f=e.album.wiki.content;f=f.replace(/\n/g,"<br>").replace(/<a.+?Read\smore.*/,""),i+=`<div class='wiki'>${f}</div>`}e.album.playcount&&(i+=`<div class='stats'><div class='playcount'>Plays: ${app.carousel.makeHuman(e.album.playcount)}</div>`,i+=`<div class='playcount'>Replay: ${Math.floor(e.album.playcount/e.album.listeners*100)/100}</div>`,i+=`<div class='playcount'>Ratio: ${Math.floor(e.album.listeners/e.album.playcount*100)/100}</div>`,i+=`<div class='playcount'>Listeners: ${app.carousel.makeHuman(e.album.listeners)}</div></div>`),i+=`<div class='debug'>MBID: ${e.album.mbid}</div>`,i+="</div>",i+="<div class='card-albums'></div>",i+="<div class='card-similar'></div>",g(".selected").classList.add("tabtracks"),g(".selected").querySelector(".sleeve").innerHTML+=i,app.carousel.data.albums[t+a].ui+=i,app.carousel.similarArtists(a),app.carousel.topAlbums(a)}else console.log(`ERROR: called without artist or album: artist:${a} album:${t}`),console.dir(e)},albumInfo:function(e,t){let a="<div class='tabbar'>",n=" tabselected";app.carousel.config.tabs.forEach(o=>{a+=`<a class='tab ${o}tab${n}' href='#${t}_${o}' onclick="return app.carousel.switchTab('${o}', event)">${o.replace(/\b\w/g,r=>r.toUpperCase())}</a>`,n=""}),a+="</div>",a+=`<div class='infohead'><h1>${e}</h1><h2>${t}</h2></div>`,app.carousel.data.albums[t+e].ui=a,g(".selected").querySelector(".sleeve").innerHTML=a,app.carousel.data.albums[t+e].lastfm?app.carousel.albumCards(app.carousel.data.albums[t+e].lastfm,t,e):fetch(`https://ws.audioscrobbler.com/2.0/?method=album.getinfo&api_key=8ab04dc41aad7d43deffb0e2ba49b690&artist=${e}&album=${t}&format=json`).then(o=>o.json()).then(o=>{app.carousel.data.albums[t+e].lastfm=o,app.carousel.albumCards(o,t,e)})},topAlbums:function(e){e=e.replace(/'/g,"\\'"),fetch(`https://ws.audioscrobbler.com/2.0/?method=artist.getTopAlbums&artist=${e}&api_key=8ab04dc41aad7d43deffb0e2ba49b690&format=json`).then(t=>t.json()).then(t=>{let a=t.topalbums.album,n="";a.forEach((o,r)=>{r<16&&(n+=`<div class='card'><a title='${o.name}' href='#${o.name.replace(/\s/g,"_")}' onclick="return app.carousel.addAlbum('${e}','${o.name}')"><img src='https://cdr2.com/autonomic/carousel/art.php?q=${e}&l=${o.name}' height='100' width='100'><div>${o.name}</div></a></div>`)}),g(".selected .card-albums").innerHTML=n})},similarArtists:function(e){fetch(`https://ws.audioscrobbler.com/2.0/?method=artist.getSimilar&artist=${e}&api_key=8ab04dc41aad7d43deffb0e2ba49b690&format=json`).then(t=>t.json()).then(t=>{let a=t.similarartists.artist,n="";a.forEach((o,r)=>{r<5&&(n+=`<div class='card'><a title='${o.name}' href='https://en.wikipedia.org/wiki/${o.name.replace(/\s/g,"_")}' target='_blank'><img src='https://cdr2.com/autonomic/carousel/art.php?q=${o.name}' height='100' width='100'><div>${o.name}</div></a></div>`)}),g(".selected .card-similar").innerHTML=n})},makeHuman:function(e){let t="";return e>1e6?(e=e/1e6,t="M"):e>1e3&&(e=e/1e3,t="K"),e=Math.floor(e*10)/10,e+t},formatTime:function(e){let t,a,n;return e?(a=Math.floor(e/60),n=e-a*60,n<10&&(n="0"+n),t=a+":"+n):t="0:00",t},switchTab:function(e,t){var n,o;console.log("switchTab"),console.dir(t);let a=app.carousel.findParent(t.target,"album");return a&&(app.carousel.clearTabs(a),a.classList.add(`tab${e}`),(n=a.querySelector(".tabselected"))==null||n.classList.remove("tabselected"),(o=a.querySelector(`a.tab.${e}tab`))==null||o.classList.add("tabselected")),app.carousel.blockEvent(t)},findParent:function(e,t){let a;for(;!a;){if(e.classList.contains(t))return e;e=e.parentElement}return!1},blockEvent:function(e){return e.stopPropagation(),e.preventDefault(),!1},clearTabs:function(e){["tracks","info","albums","similar"].forEach(a=>e.classList.remove(`tab${a}`))},fetchData:function(e,t){fetch(e).then(a=>a.json()).then(a=>{let n=t(a);console.dir(n)})},makeItem:function(e,t,a=""){let n=a?`id="${a}" `:"";return t=t||"hideRight",`<div ${n} class="album ${t}"><img alt="${e.name}" src="${e.url}"><div class="sleeve"></div><div class="title"><div class="artist">${e.artist}</div><div class="albumName">${e.name}</div></div></div>`},getArt:function(e,t,a){},formAlbum:function(e){let t=g("#artist").value,a=g("#album").value;return e.preventDefault(),e.stopPropagation(),app.carousel.addAlbum(t,a)},addAlbum:function(e,t){app.carousel.toggleSleeve();let a=document.createElement("div"),n=te("#carousel > .album").length;app.carousel.data.albumCount=n,a.innerHTML=app.carousel.makeItem({artist:e,name:t,url:`https://cdr2.com/autonomic/carousel/art.php?q=${e}&l=${t}`},"next-1",`album-${n}`);let o=a.querySelector("div.album");return console.dir(o),console.dir(a),g(".selected").parentNode.insertBefore(o,g(".selected").nextSibling),app.carousel.reorder(),app.carousel.data.albums[`${t}${e}`]={name:t,artist:e},app.carousel.albumUpdate(e,t,n),app.carousel.data.albumCount++,app.carousel.updatePositions(),setTimeout(function(){app.carousel.select(o)},500),setTimeout(app.carousel.toggleSleeve,1e3),!1},fillCarousel:function(e){console.log("fillCarousel");let t="",a="",n=["hideLeft","prev-2","prev-1","prev-0","selected","next-0","next-1","next-2","hideRight"],o=n.length,r="";e.albums.forEach((i,f)=>{r=f>o?"hideRight":n[f],app.carousel.data.albums[i.name+i.artist]={},a=app.carousel.makeItem(i,r,`album-${f}`),t+=a}),g("#carousel").innerHTML=t,app.carousel.reorder()},addAlbums:function(e){app.carousel.data.albumsList=e.albums,app.carousel.fillCarousel(e),e.albums.forEach((t,a)=>{app.carousel.albumUpdate(t.artist,t.name,a)}),app.selected=g(".selected")},load:function(e){app.carousel.addAlbums({albums:[{name:"Punk in Drublic",artist:"NOFX"},{name:"Houses of the Holy",artist:"Led Zeppelin"},{name:"Dark Side of the Moon",artist:"Pink Floyd"},{name:"Sublime",artist:"Sublime"},{name:"The Decline",artist:"NOFX"},{name:"No Control",artist:"Bad Religion"},{name:"Suffer",artist:"Bad Religion"},{name:"Paul's Boutique",artist:"Beastie Boys"},{name:"Tales from Wyoming",artist:"Teenage Bottlerocket"},{name:"Legend",artist:"Bob Marley & the Wailers"},{name:"Aerosmith's Greatest Hits",artist:"Aerosmith"},{name:"Fly Like an Eagle",artist:"Steve Miller Band"},{name:"Appetite for Destruction",artist:"Guns N' Roses"}]})},scroll:function(e){const t=Date.now();return g(".selected .sleeve").contains(e.target)?(console.log("scrolling over sleeve"),!0):(e.preventDefault(),e.stopPropagation(),t-app.carousel.state.delta.last<100||(t-app.carousel.state.delta.last>300&&app.carousel.clearDelta(),app.carousel.state.delta.x+=e.wheelDeltaX,app.carousel.state.delta.y+=e.wheelDeltaY,app.carousel.state.delta.last=Date.now(),e.wheelDeltaX<0||e.wheelDeltaY<0?(app.carousel.state.delta.x<-750||app.carousel.state.delta.y<-500)&&(app.carousel.clearDelta(),app.carousel.next()):(e.wheelDeltaX>0||e.wheelDeltaY>0)&&(app.carousel.state.delta.x>750||app.carousel.state.delta.y>500)&&(app.carousel.clearDelta(),app.carousel.previous())),!1)},onScroll:function(e){},clearDelta:function(){app.carousel.state.delta.x=0,app.carousel.state.delta.y=0},init:function(){window.addEventListener("wheel",app.carousel.scroll,{passive:!1}),document.addEventListener("keydown",app.carousel.keypress);let e=app.carousel.wrapper=g("#carousel");e.addEventListener("mousedown",app.carousel.doDown),e.addEventListener("mousemove",app.carousel.doMove),e.addEventListener("touchstart",app.carousel.doDown,{passive:!0}),e.addEventListener("mouseup",app.carousel.doUp),e.addEventListener("touchend",app.carousel.doup),app.carousel.reorder(),g("#prev").addEventListener("click",app.carousel.previous),g("#next").addEventListener("click",app.carousel.next),app.carousel.load("https://cdr2.com/autonomic/carousal/sample-albums.json"),app.selected=g(".selected")},state:{delta:{x:0,y:0,last:Date.now()},sleeve:0},data:{albums:{},artists:{},tracks:{},albumCount:0},config:{tabs:["tracks","info","albums","similar"],count:7,counts:{similarArtists:5,topAlbums:5,topTracks:8}}},app.carousel.init()})();
